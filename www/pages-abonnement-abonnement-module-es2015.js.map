{"version":3,"sources":["./src/app/pages/abonnement/abonnement.page.html","./src/app/pages/abonnement/abonnement.module.ts","./src/app/pages/abonnement/abonnement.page.scss","./src/app/pages/abonnement/abonnement.page.ts"],"names":[],"mappings":"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","file":"pages-abonnement-abonnement-module-es2015.js","sourcesContent":["module.exports = \"\\r\\n<ion-content class=\\\"container\\\">\\r\\n\\r\\n  <div  class=\\\"content-page\\\">\\r\\n\\r\\n    <div class=\\\"header\\\">\\r\\n\\r\\n      <span>{{ 'PAGES.ABONNEMENT.TITLE' | translate }}</span>\\r\\n\\r\\n      <div *ngIf=\\\"subscribes\\\" class=\\\"info-subscribes\\\" \\r\\n            [ngClass]=\\\"{\\r\\n              'subscribes-column': subscribeValidateOrResiliate === true\\r\\n            }\\\">\\r\\n\\r\\n        <span class=\\\"abonnement-number\\\" (click)=\\\"abonnementsValidateList()\\\">\\r\\n          <strong>{{ subscribes.validee.length }}</strong> {{ 'PAGES.ABONNEMENT.NUMBER' | translate }}\\r\\n        </span>\\r\\n\\r\\n        <span *ngIf=\\\"subscribes.enCours.length !==0\\\" class=\\\"abonnement-inProgress\\\"\\r\\n              (click)=\\\"abonnementsCurrentValidateList()\\\">\\r\\n            <strong>{{ subscribes.enCours.length }}</strong> {{ 'PAGES.ABONNEMENT.CURRENT_VALIDATE' | translate }}\\r\\n        </span>\\r\\n\\r\\n        <span *ngIf=\\\"subscribes.enCoursResiliation.length !==0\\\" class=\\\"abonnement-inProgress\\\"\\r\\n              (click)=\\\"abonnementsCurrentResiliationList()\\\">\\r\\n            <strong>{{ subscribes.enCoursResiliation.length }}</strong> {{ 'PAGES.ABONNEMENT.CURRENT_RESILIATION' | translate }}\\r\\n        </span>\\r\\n\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"contract\\\">\\r\\n\\r\\n      <!-- Bouton de souscription à un abonnement -->\\r\\n      <africlean-small-button [title]=\\\"'PAGES.ABONNEMENT.SUBSCRIPTION' | translate\\\"\\r\\n                              [theme]=\\\"'abonnement'\\\" (clickButton)=\\\"subscription()\\\">\\r\\n\\r\\n      </africlean-small-button>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <!-- Liste des paiements -->\\r\\n    <africlean-abo-payments\\r\\n            [payements]=\\\"payements\\\"\\r\\n            [payementsTMP]=\\\"payementsTMP\\\"\\r\\n            [nbrPaiementPerPage]=\\\"nbrPaiementPerPage\\\"\\r\\n            [currentPage]=\\\"currentPage\\\"\\r\\n            (position)=\\\"sendPosition($event)\\\"></africlean-abo-payments>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AbonnementPage } from './abonnement.page';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AbonnementPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [AbonnementPage]\r\n})\r\nexport class AbonnementPageModule {}\r\n","module.exports = \".container .content-page {\\n  margin-top: 14vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  margin-bottom: 2rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-consult-abonnement);\\n}\\n.container .content-page .header .info-subscribes {\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n  margin-left: 1vw;\\n}\\n.container .content-page .header .info-subscribes.subscribes-column {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n}\\n.container .content-page .header .info-subscribes strong {\\n  color: var(--ion-color-consult-abonnement);\\n}\\n.container .content-page .header .info-subscribes .abonnement-number {\\n  cursor: pointer;\\n  font-size: 1rem;\\n  color: var(--ion-color-grey);\\n}\\n.container .content-page .header .info-subscribes .abonnement-inProgress {\\n  cursor: pointer;\\n  font-size: 1rem;\\n  color: var(--ion-color-grey);\\n}\\n.container .content-page .contract {\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-bottom: 2rem;\\n}\\n.container .content-page .contract .text {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n          flex-direction: column;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  margin-left: auto;\\n  margin-right: auto;\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n}\\n.container .content-page .contract .text .choice {\\n  color: var(--ion-color-consult-abonnement);\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n.container .content-page .contract .text .choice .agree {\\n  margin-right: 0.5rem;\\n}\\n.container .content-page .contract .text .resiliation {\\n  width: 14rem;\\n  margin-left: auto;\\n  margin-right: auto;\\n  text-align: justify;\\n}\\n.container .content-page .contract .info {\\n  width: 14rem;\\n  margin-left: auto;\\n  margin-right: auto;\\n  text-align: center;\\n  color: var(--ion-color-secondary);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWJvbm5lbWVudC9DOlxcVXNlcnNcXHRtZGlhbGxvXFxEb2N1bWVudHNcXERvY3VtZW50cyBwZXJzb1xcbWF1cmlDbGVhbi1mcm9udFxcbWF1cmlDbGVhbi1mcm9udC9zcmNcXGFwcFxccGFnZXNcXGFib25uZW1lbnRcXGFib25uZW1lbnQucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9hYm9ubmVtZW50L2Fib25uZW1lbnQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBRUksZ0JBQUE7QUNGUjtBRElRO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0VBQ0Esd0JBQUE7RUFDQSxtQ0FBQTtFQUNBLDBDQUFBO0FDRlo7QURJWTtFQUVJLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLGdCQUFBO0FDSGhCO0FES2dCO0VBQ0ksb0JBQUE7RUFBQSxhQUFBO0VBQ0EsNEJBQUE7RUFBQSw2QkFBQTtVQUFBLHNCQUFBO0FDSHBCO0FETWdCO0VBQ0ksMENBQUE7QUNKcEI7QURNZ0I7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLDRCQUFBO0FDSnBCO0FET2dCO0VBQ0ksZUFBQTtFQUNBLGVBQUE7RUFDQSw0QkFBQTtBQ0xwQjtBRFVRO0VBQ0ksMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FDUlo7QURVWTtFQUNJLG9CQUFBO0VBQUEsYUFBQTtFQUNBLDRCQUFBO0VBQUEsNkJBQUE7VUFBQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0FDUmhCO0FEVWdCO0VBQ0ksMENBQUE7RUFDQSwwQkFBQTtFQUNBLGVBQUE7QUNScEI7QURTb0I7RUFDSSxvQkFBQTtBQ1B4QjtBRFlnQjtFQUNJLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsbUJBQUE7QUNWcEI7QURjWTtFQUNJLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQ0FBQTtBQ1poQiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Fib25uZW1lbnQvYWJvbm5lbWVudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG5cclxuICAgIC5jb250ZW50LXBhZ2V7XHJcblxyXG4gICAgICAgIG1hcmdpbi10b3A6IDE0dmg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmhlYWRlcntcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtYWJvbm5lbWVudCk7XHJcblxyXG4gICAgICAgICAgICAuaW5mby1zdWJzY3JpYmVze1xyXG5cclxuICAgICAgICAgICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxdnc7XHJcblxyXG4gICAgICAgICAgICAgICAgJi5zdWJzY3JpYmVzLWNvbHVtbntcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgc3Ryb25ne1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1hYm9ubmVtZW50KSA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAuYWJvbm5lbWVudC1udW1iZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAuYWJvbm5lbWVudC1pblByb2dyZXNze1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLmNvbnRyYWN0e1xyXG4gICAgICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XHJcbiAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcblxyXG4gICAgICAgICAgICAudGV4dHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAuY2hvaWNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1hYm9ubmVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgLmFncmVle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDAuNXJlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC5yZXNpbGlhdGlvbntcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogMTRyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC5pbmZve1xyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDE0cmVtO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIuY29udGFpbmVyIC5jb250ZW50LXBhZ2Uge1xuICBtYXJnaW4tdG9wOiAxNHZoO1xufVxuLmNvbnRhaW5lciAuY29udGVudC1wYWdlIC5oZWFkZXIge1xuICBmb250LXNpemU6IDEuNHJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbiAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1hYm9ubmVtZW50KTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIC5pbmZvLXN1YnNjcmliZXMge1xuICB3aWR0aDogbWF4LWNvbnRlbnQ7XG4gIG1hcmdpbi1sZWZ0OiAxdnc7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLmhlYWRlciAuaW5mby1zdWJzY3JpYmVzLnN1YnNjcmliZXMtY29sdW1uIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIC5pbmZvLXN1YnNjcmliZXMgc3Ryb25nIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1jb25zdWx0LWFib25uZW1lbnQpO1xufVxuLmNvbnRhaW5lciAuY29udGVudC1wYWdlIC5oZWFkZXIgLmluZm8tc3Vic2NyaWJlcyAuYWJvbm5lbWVudC1udW1iZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIC5pbmZvLXN1YnNjcmliZXMgLmFib25uZW1lbnQtaW5Qcm9ncmVzcyB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xufVxuLmNvbnRhaW5lciAuY29udGVudC1wYWdlIC5jb250cmFjdCB7XG4gIHdpZHRoOiBtYXgtY29udGVudDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuY29udHJhY3QgLnRleHQge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICB3aWR0aDogbWF4LWNvbnRlbnQ7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLmNvbnRyYWN0IC50ZXh0IC5jaG9pY2Uge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtYWJvbm5lbWVudCk7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLmNvbnRyYWN0IC50ZXh0IC5jaG9pY2UgLmFncmVlIHtcbiAgbWFyZ2luLXJpZ2h0OiAwLjVyZW07XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLmNvbnRyYWN0IC50ZXh0IC5yZXNpbGlhdGlvbiB7XG4gIHdpZHRoOiAxNHJlbTtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgdGV4dC1hbGlnbjoganVzdGlmeTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuY29udHJhY3QgLmluZm8ge1xuICB3aWR0aDogMTRyZW07XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnkpO1xufSJdfQ== */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {ModalController} from '@ionic/angular';\r\n// tslint:disable-next-line: max-line-length\r\nimport {AfricleanAbonnementSubscriptionComponent} from 'src/app/components/africlean-abonnement-subscription/africlean-abonnement-subscription.component';\r\nimport {AfricleanAbonnementListComponent} from 'src/app/components/africlean-abonnement-list/africlean-abonnement-list.component';\r\nimport {AfricleanModalProvider} from 'src/providers/africlean-modal/africlean-modal.provider';\r\nimport {AfricleanSubscribeModel} from 'src/models/abonnement/africlean-subscription.model';\r\nimport {AfricleanHttpSubscribeProvider} from 'src/providers/africlean-http/africlean-http-subscribe.provider';\r\nimport {AfricleanObservablesProvider} from 'src/providers/africlean-observables/africlean-observables.provider';\r\nimport {AfricleanSessionProvider} from 'src/providers/africlean-session/africlean-session.provider';\r\nimport {AfricleanUserModel} from \"../../../models/africlean-user.model\";\r\nimport {AfricleanPayementModel} from \"../../../models/finances/africlean-payement.model\";\r\nimport {AfricleanHttpPayementProvider} from \"../../../providers/africlean-http/africlean-http-payement.provider\";\r\nimport {AfricleanConfigProvider} from \"../../../providers/africlean-config/africlean-config.provider\";\r\nimport {StateAdress, StateSubscribe} from \"../../../providers/utils/commonEnum\";\r\n\r\n@Component({\r\n    selector: 'app-abonnement',\r\n    templateUrl: './abonnement.page.html',\r\n    styleUrls: ['./abonnement.page.scss'],\r\n})\r\nexport class AbonnementPage implements OnInit {\r\n\r\n    /**\r\n     * Gère l'affichage du text de resiliation\r\n     */\r\n    public displayResiliation = false;\r\n\r\n    /**\r\n     * Test si les abonnements en cours de validation ou de resiliation sont présent\r\n     */\r\n    public subscribeValidateOrResiliate = false;\r\n\r\n    /**\r\n     * Nombre d'abonnements souscrit par le client\r\n     */\r\n    public subscribes: {\r\n        enCours: AfricleanSubscribeModel[],\r\n        validee: AfricleanSubscribeModel[],\r\n        enCoursResiliation: AfricleanSubscribeModel[],\r\n        resilie: AfricleanSubscribeModel[]\r\n    };\r\n    /**\r\n     * Liste des payements\r\n     */\r\n    @Input() public payements: { user: AfricleanUserModel, payement: AfricleanPayementModel } [];\r\n    @Input() public payementsTMP: { user: AfricleanUserModel, payement: AfricleanPayementModel } [];\r\n\r\n    @Input() public payementsEmploye: { user: AfricleanUserModel, payement: AfricleanPayementModel } [];\r\n    @Input() public payementsTMPEmploye: { user: AfricleanUserModel, payement: AfricleanPayementModel } [];\r\n\r\n\r\n    /**\r\n     * numéro des pages\r\n     */\r\n    public positions = [];\r\n    /**\r\n     * numéro des pages\r\n     */\r\n    public positionsEmploye = [];\r\n\r\n    /**\r\n     * Position de la page courante\r\n     */\r\n    @Input() public currentPage = 1;\r\n\r\n    /**\r\n     * Le nombre de clients par pages\r\n     */\r\n    @Input() public nbrPaiementPerPage = 5;\r\n    /**\r\n     * client concerné\r\n     */\r\n    @Input() public userTMP: AfricleanUserModel;\r\n\r\n    /**\r\n     * role de l'utilisateur\r\n     */\r\n    @Input() public role: number;\r\n\r\n    /**\r\n     * id de l'utilisateur\r\n     */\r\n    @Input() public userId: number;\r\n    /**\r\n     * La limite pour récuperer les données\r\n     */\r\n    public limit = 10;\r\n\r\n    /**\r\n     * Données à ignorer\r\n     */\r\n    public skip = 0;\r\n\r\n    public isWeb: boolean;\r\n\r\n\r\n    constructor(private modal: AfricleanModalProvider,\r\n                private httpSubscribe: AfricleanHttpSubscribeProvider,\r\n                private observablesProvider: AfricleanObservablesProvider,\r\n                private payementProvider: AfricleanHttpPayementProvider,\r\n                private session: AfricleanSessionProvider,\r\n                private config: AfricleanConfigProvider) {}\r\n\r\n    ngOnInit() {\r\n        this.session.getItem('userId').then(\r\n            (userId) => {\r\n                const url = 'abonnement/user-subscribe/' + userId;\r\n                this.loadSubscribes(url);\r\n                this.observablesProvider.subscriptionRequest.subscribe(\r\n                    (isRequest) => {\r\n                        if (isRequest) {\r\n                            this.loadSubscribes(url);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        );\r\n        this.getUser();\r\n        this.getPayements('abonnement');\r\n        this.observablesProvider.loadPayement.subscribe(\r\n            (result) => {\r\n                this.payements = [];\r\n                this.payementsTMP = [];\r\n                this.positions = [];\r\n                this.getPayements('abonnement');\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Utilisateur temporaire\r\n     */\r\n    public async getUser() {\r\n        this.role = await this.session.getItem('role');\r\n        this.userId = await this.session.getItem('userId');\r\n        this.userTMP = await this.session.getItem('userTMP');\r\n    }\r\n\r\n    /**\r\n     * Recharge les abonnements\r\n     * @param url url\r\n     */\r\n    private async loadSubscribes(url: string) {\r\n     //   this.getUser();\r\n        this.httpSubscribe.getSubscribeByUser(url).subscribe(\r\n            (subscribes) => {\r\n                this.subscribes = subscribes;\r\n                // Tester si les abonnements en cours de validation ou en cours de resilitaion sont présent\r\n                if (this.subscribes.enCours.length !== 0 || this.subscribes.enCoursResiliation.length !== 0) {\r\n                    this.subscribeValidateOrResiliate = true;\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    /**\r\n     * Permet d'afficher le texte de résiliaion\r\n     */\r\n    public displayText() {\r\n        this.displayResiliation = true;\r\n    }\r\n\r\n    /**\r\n     * Annuler la résiliation\r\n     */\r\n    public annuler() {\r\n        this.displayResiliation = false;\r\n    }\r\n\r\n    /**\r\n     * Permet de s'abonner en fournissant l'adresse du lieu\r\n     */\r\n    public async subscription() {\r\n        const props = {\r\n            source: 'consult-abonnement',\r\n            displayForm: true\r\n        };\r\n        this.modal.create(AfricleanAbonnementSubscriptionComponent, 'my-custom-modal-css', props);\r\n    }\r\n\r\n    /**\r\n     * La liste des abonnements valider\r\n     */\r\n    public async abonnementsValidateList() {\r\n        if (this.subscribes.validee.length !== 0) {\r\n            this.modal.create(AfricleanAbonnementListComponent, 'my-custom-modal-css');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * La liste des abonnements en cours de validation\r\n     */\r\n    public async abonnementsCurrentValidateList() {\r\n        if (this.subscribes.enCours.length !== 0) {\r\n            const props = {\r\n                state: StateAdress.IN_PROGRESS_SUBSCRIB\r\n            };\r\n            this.modal.create(AfricleanAbonnementListComponent, 'my-custom-modal-css', props);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * La liste des abonnements en cours de resiliation\r\n     */\r\n    public async abonnementsCurrentResiliationList() {\r\n        if (this.subscribes.enCoursResiliation.length !== 0) {\r\n            const props = {\r\n                state: StateAdress.IN_PROGRESS_TERMINATION\r\n            };\r\n            this.modal.create(AfricleanAbonnementListComponent, 'my-custom-modal-css', props);\r\n        }\r\n    }\r\n\r\n    sendPosition(position) {\r\n        this.currentPage = position;\r\n        if (position % 2 === 0 && !this.positions.includes(position)) {\r\n            this.positions.push(position);\r\n            this.skip = this.skip + this.limit;\r\n            this.getPayements('abonnement');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Liste de payement\r\n     */\r\n    public async getPayements(typePayement) {\r\n        this.role = await this.session.getItem('role');\r\n        this.userId = await this.session.getItem('userId');\r\n\r\n        let body: any = {};\r\n        let url: string;\r\n        if (this.role === 5) {\r\n            url = 'payement/paiements/client/' + this.userId;\r\n        } else {\r\n            url = 'payement/paiements/';\r\n        }\r\n        body = {\r\n            limit: this.limit,\r\n            skip: this.skip\r\n        };\r\n\r\n        this.payementProvider.postPaiment(url, body).subscribe(\r\n            (payementList) => {\r\n                if (!this.payements && !this.payementsTMP) {\r\n                    this.payements = [];\r\n                    this.payementsTMP = [];\r\n                    this.positions = [];\r\n                }\r\n                this.payements = this.payements.concat(payementList.slice());\r\n                this.payementsTMP = this.payementsTMP.concat(payementList.slice());\r\n            }\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}