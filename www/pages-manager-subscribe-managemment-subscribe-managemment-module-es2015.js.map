{"version":3,"sources":["./src/app/pages/manager/subscribe-managemment/subscribe-managemment.page.html","./src/app/pages/manager/subscribe-managemment/subscribe-managemment.module.ts","./src/app/pages/manager/subscribe-managemment/subscribe-managemment.page.scss","./src/app/pages/manager/subscribe-managemment/subscribe-managemment.page.ts"],"names":[],"mappings":"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","file":"pages-manager-subscribe-managemment-subscribe-managemment-module-es2015.js","sourcesContent":["module.exports = \"\\r\\n<ion-content class=\\\"container\\\">\\r\\n\\r\\n  <div  class=\\\"content-page\\\">\\r\\n\\r\\n    <div class=\\\"header\\\">\\r\\n\\r\\n      <span>{{ 'PAGES.ABONNEMENT_MANAGEMENT.TITLE' | translate }}</span>\\r\\n    </div>\\r\\n\\r\\n\\r\\n    <ion-segment (ionChange)=\\\"segmentChanged($event)\\\" value=\\\"particulier\\\">\\r\\n      <ion-segment-button value=\\\"particulier\\\">\\r\\n        <ion-label>\\r\\n          <ion-icon name=\\\"contacts\\\"></ion-icon>&nbsp;\\r\\n          <strong>Particulier</strong>\\r\\n        </ion-label>\\r\\n      </ion-segment-button>\\r\\n      <ion-segment-button value=\\\"pro\\\">\\r\\n        <ion-label>\\r\\n          <ion-icon name=\\\"business\\\"></ion-icon>&nbsp;\\r\\n          <strong>Professionnel</strong>\\r\\n        </ion-label>\\r\\n      </ion-segment-button>\\r\\n    </ion-segment>\\r\\n    <div class=\\\"animate__animated animate__slideInUp animate__fast\\\"\\r\\n         *ngIf=\\\"customerType === 'particulier'\\\">\\r\\n        <app-africlean-abonnement-manager\\r\\n                [subscribesDescription]=\\\"subscribesTmp\\\"\\r\\n                [abonnementsTMP]=\\\"subscribesTmp\\\"\\r\\n                [nbrSubscribesPerPage]=\\\"nbrSubscribesPerPage\\\"\\r\\n                [customerType]=\\\"utils.getCustomerType(customerType)\\\"\\r\\n                [currentPage]=\\\"currentPage\\\"\\r\\n                (position)=\\\"sendPosition($event)\\\">\\r\\n        </app-africlean-abonnement-manager>\\r\\n\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"animate__animated animate__slideInUp animate__fast\\\"\\r\\n         *ngIf=\\\"customerType === 'pro'\\\">\\r\\n      <app-africlean-abonnement-manager\\r\\n              [subscribesDescription]=\\\"subscribesTmp\\\"\\r\\n              [abonnementsTMP]=\\\"subscribesTmp\\\"\\r\\n              [nbrSubscribesPerPage]=\\\"nbrSubscribesPerPage\\\"\\r\\n              [currentPage]=\\\"currentPage\\\"\\r\\n              [customerType]=\\\"utils.getCustomerType(customerType)\\\"\\r\\n              (position)=\\\"sendPosition($event)\\\">\\r\\n      </app-africlean-abonnement-manager>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SubscribeManagemmentPage } from './subscribe-managemment.page';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {ComponentsModule} from '../../../components/components.module';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SubscribeManagemmentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [SubscribeManagemmentPage]\r\n})\r\nexport class SubscribeManagemmentPageModule {}\r\n","module.exports = \".container .content-page {\\n  margin-top: 14vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  margin-bottom: 2rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-consult-abonnement);\\n}\\n.container .content-page .title {\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  text-decoration: underline;\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n  margin-right: auto;\\n  margin-left: auto;\\n  font-weight: bold;\\n  color: var(--ion-color-consult-abonnement);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFuYWdlci9zdWJzY3JpYmUtbWFuYWdlbW1lbnQvQzpcXFVzZXJzXFx0bWRpYWxsb1xcRG9jdW1lbnRzXFxEb2N1bWVudHMgcGVyc29cXG1hdXJpQ2xlYW4tZnJvbnRcXG1hdXJpQ2xlYW4tZnJvbnQvc3JjXFxhcHBcXHBhZ2VzXFxtYW5hZ2VyXFxzdWJzY3JpYmUtbWFuYWdlbW1lbnRcXHN1YnNjcmliZS1tYW5hZ2VtbWVudC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL21hbmFnZXIvc3Vic2NyaWJlLW1hbmFnZW1tZW50L3N1YnNjcmliZS1tYW5hZ2VtbWVudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUU7RUFFRSxnQkFBQTtBQ0ZKO0FESUk7RUFDRSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSx3QkFBQTtFQUNBLG1DQUFBO0VBQ0EsMENBQUE7QUNGTjtBREtJO0VBQ0UsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLDBCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBQ0EsMENBQUE7QUNITiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21hbmFnZXIvc3Vic2NyaWJlLW1hbmFnZW1tZW50L3N1YnNjcmliZS1tYW5hZ2VtbWVudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG5cclxuICAuY29udGVudC1wYWdle1xyXG5cclxuICAgIG1hcmdpbi10b3A6IDE0dmg7XHJcblxyXG4gICAgLmhlYWRlcntcclxuICAgICAgZm9udC1zaXplOiAxLjRyZW07XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbiAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xyXG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtYWJvbm5lbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgLnRpdGxlIHtcclxuICAgICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1hYm9ubmVtZW50KTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiLmNvbnRhaW5lciAuY29udGVudC1wYWdlIHtcbiAgbWFyZ2luLXRvcDogMTR2aDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxLjRyZW07XG4gIG1hcmdpbi1ib3R0b206IDJyZW07XG4gIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtYWJvbm5lbWVudCk7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLnRpdGxlIHtcbiAgbWFyZ2luLXRvcDogMXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIHdpZHRoOiBtYXgtY29udGVudDtcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1hYm9ubmVtZW50KTtcbn0iXX0= */\"","import {Component, EventEmitter, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AfricleanModalProvider } from '../../../../providers/africlean-modal/africlean-modal.provider';\r\nimport { AfricleanAdressComponent } from '../../../components/africlean-adress/africlean-adress.component';\r\nimport {AfricleanHttpSubscribeProvider} from '../../../../providers/africlean-http/africlean-http-subscribe.provider';\r\nimport {AfricleanObservablesProvider} from '../../../../providers/africlean-observables/africlean-observables.provider';\r\nimport {UserRole} from '../../../../providers/utils/commonEnum';\r\nimport {AfricleanDataProvider} from '../../../../providers/africlean-data/africlean-data.provider';\r\nimport {AfricleanSessionProvider} from '../../../../providers/africlean-session/africlean-session.provider';\r\n\r\n@Component({\r\n  selector: 'app-subscribe-managemment',\r\n  templateUrl: './subscribe-managemment.page.html',\r\n  styleUrls: ['./subscribe-managemment.page.scss'],\r\n})\r\nexport class SubscribeManagemmentPage implements OnInit {\r\n  /**\r\n   * numéro des pages\r\n   */\r\n  public positions = [];\r\n\r\n  /**\r\n   * Position de la page courante\r\n   */\r\n  @Input() public currentPage = 1;\r\n\r\n  /**\r\n   * Subscribes temporaires\r\n   */\r\n  public subscribesTmp: any[];\r\n  public subscribes: any[];\r\n\r\n  /**\r\n   * La limite pour récuperer les données\r\n   */\r\n  public limit = 14;\r\n\r\n  /**\r\n   * Données à ignorer\r\n   */\r\n  public skip = 0;\r\n\r\n  /**\r\n   * Le nombre de clients par pages\r\n   */\r\n  @Input() public nbrSubscribesPerPage = 7;\r\n\r\n  /**\r\n   * Emet la position de la page actuel\r\n   */\r\n  @Output() public position = new EventEmitter<any>();\r\n\r\n\r\n  @ViewChild('content', {static: true}) public content: any;\r\n\r\n  public customerType = 'particulier';\r\n\r\n  constructor( private modal: AfricleanModalProvider,\r\n               private observableProvider: AfricleanObservablesProvider,\r\n               private route: ActivatedRoute,\r\n               private utils: AfricleanDataProvider,\r\n               private session: AfricleanSessionProvider,\r\n               private abonnementProvider: AfricleanHttpSubscribeProvider) { }\r\n\r\n  ngOnInit() {\r\n    this.getSubscribesByFilter();\r\n    // Dés qu'il y'a un chamgement au nivea des abonnements notament une mise a jour,\r\n    // on récharge les données.\r\n    this.observableProvider.loadAbonnement.subscribe(\r\n        (load) => {\r\n          if (load) {\r\n            this.subscribes = [];\r\n            this.subscribesTmp = [];\r\n            this.limit = 14;\r\n            this.skip = 0;\r\n            this.getSubscribesByFilter();\r\n          }\r\n        }\r\n    );\r\n    this.route.queryParams.subscribe((params) => {\r\n      if (params && params.adresses && params.user) {\r\n       /* const props = {\r\n          adresses: params.adresses,\r\n          user: params.user\r\n        };*/\r\n        // this.modal.create(AfricleanAdressListComponent, 'my-custom-modal-css', props);\r\n        const props = {\r\n          displayButton: true,\r\n          userId: params.user.id,\r\n          role: UserRole.CLIENT,\r\n          source: 'consult-subscribe-management'\r\n        };\r\n        this.modal.create(AfricleanAdressComponent, 'my-custom-modal-css', props);\r\n      }\r\n    });\r\n    // On appel la modal pour saisir une adresse\r\n  }\r\n\r\n  sendPosition(position) {\r\n    this.currentPage = position;\r\n    if (position % 2 === 0 && !this.positions.includes(position)) {\r\n      this.positions.push(position);\r\n      this.skip = this.skip + this.limit;\r\n      this.getSubscribesByFilter();\r\n    }\r\n  }\r\n\r\n  private async getSubscribesByFilter() {\r\n    const user = await this.session.getItem('user');\r\n    const entity = (user) ? user.entity : null;\r\n    const id = (entity) ? entity.id : null;\r\n    let body: any = {};\r\n    const customerType = this.utils.getCustomerType(this.customerType);\r\n    body = {\r\n      limit: this.limit,\r\n      skip: this.skip,\r\n      customerType,\r\n      entity: id\r\n    };\r\n    console.log(body);\r\n    const url = 'abonnement/subscribes';\r\n    this.abonnementProvider.save(url, body).subscribe(\r\n        (subscribes) => {\r\n          const subscribe = this._filter(customerType, subscribes);\r\n          if (!this.subscribes && !this.subscribesTmp) {\r\n            this.subscribes = [];\r\n            this.subscribesTmp = [];\r\n            this.positions = [];\r\n          }\r\n          this.subscribes = this.subscribes.concat(subscribe.slice());\r\n          this.subscribesTmp = this.subscribesTmp.concat(subscribe.slice());\r\n        }\r\n    );\r\n  }\r\n\r\n  private _filter(value: number, list: any[]): any[] {\r\n    const filterValue = value.toString();\r\n    return list.filter(item => item.user.customerType.toString().indexOf(filterValue) === 0);\r\n  }\r\n  segmentChanged(ev: any) {\r\n    this.limit = 14;\r\n    this.skip = 0;\r\n    this.subscribes = [];\r\n    this.subscribesTmp = [];\r\n    this.positions = [];\r\n    this.customerType = ev.detail.value;\r\n    this.getSubscribesByFilter();\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}