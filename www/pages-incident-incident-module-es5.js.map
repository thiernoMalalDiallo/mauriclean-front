{"version":3,"sources":["./src/app/pages/incident/incident.page.html","./src/app/pages/incident/incident.module.ts","./src/app/pages/incident/incident.page.scss","./src/app/pages/incident/incident.page.ts"],"names":[],"mappings":"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","file":"pages-incident-incident-module-es5.js","sourcesContent":["module.exports = \"\\r\\n<ion-content class=\\\"container\\\">\\r\\n\\r\\n  <div  class=\\\"content-page\\\">\\r\\n\\r\\n    <div class=\\\"header\\\">\\r\\n      {{ 'PAGES.INCIDENT.TITLE' | translate }}\\r\\n    </div>\\r\\n\\r\\n    <!-- Afficher le numéro de téléphone du pôle qui s'occupe de l'incident -->\\r\\n   <!-- <div class=\\\"phone-number\\\">\\r\\n      {{ 'PAGES.INCIDENT.TEXT' | translate }} <span>{{ phoneNumber }}</span>\\r\\n    </div>-->\\r\\n    \\r\\n    <div class=\\\"incident-form\\\">      \\r\\n      <africlean-incident></africlean-incident>\\r\\n    </div>\\r\\n\\r\\n    <div></div>\\r\\n    <ion-card>\\r\\n\\r\\n    <div class=\\\"title\\\">Liste des incidents</div>\\r\\n\\r\\n    <div class=\\\"incident-list\\\">\\r\\n        <africlean-incidents-list\\r\\n                [incidents]=\\\"incidents\\\"\\r\\n                [incidentsTMP]=\\\"incidents\\\"\\r\\n                [nbrIncidentPerPage]=\\\"nbrIncidentsPerPage\\\"\\r\\n                [currentPage]=\\\"currentPage\\\"\\r\\n                (position)=\\\"sendPosition($event)\\\"></africlean-incidents-list>\\r\\n    </div>\\r\\n    </ion-card>\\r\\n  \\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IncidentPage } from './incident.page';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: IncidentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ComponentsModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [IncidentPage]\r\n})\r\nexport class IncidentPageModule {}\r\n","module.exports = \".container .content-page {\\n  margin-top: 14vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-manage-incidents);\\n}\\n.container .content-page .phone-number {\\n  text-align: center;\\n  margin-bottom: 1rem;\\n}\\n.container .content-page .phone-number span {\\n  color: var(--ion-color-manage-incidents);\\n}\\n.container .content-page .title {\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n  text-decoration: underline;\\n  width: -webkit-max-content;\\n  width: -moz-max-content;\\n  width: max-content;\\n  margin-right: auto;\\n  margin-left: auto;\\n  font-weight: bold;\\n  color: var(--color-grey);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW5jaWRlbnQvQzpcXFVzZXJzXFx0bWRpYWxsb1xcRG9jdW1lbnRzXFxEb2N1bWVudHMgcGVyc29cXG1hdXJpQ2xlYW4tZnJvbnRcXG1hdXJpQ2xlYW4tZnJvbnQvc3JjXFxhcHBcXHBhZ2VzXFxpbmNpZGVudFxcaW5jaWRlbnQucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9pbmNpZGVudC9pbmNpZGVudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUk7RUFFSSxnQkFBQTtBQ0ZSO0FESVE7RUFDSSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0Esd0JBQUE7RUFDQSxtQ0FBQTtFQUNBLHdDQUFBO0FDRlo7QURLUTtFQUNJLGtCQUFBO0VBQ0EsbUJBQUE7QUNIWjtBRElZO0VBQ0ksd0NBQUE7QUNGaEI7QURNUTtFQUNJLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSwwQkFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtFQUNBLHdCQUFBO0FDSloiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9pbmNpZGVudC9pbmNpZGVudC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG5cclxuICAgIC5jb250ZW50LXBhZ2V7XHJcblxyXG4gICAgICAgIG1hcmdpbi10b3A6IDE0dmg7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLmhlYWRlcntcclxuICAgICAgICAgICAgZm9udC1zaXplOiAxLjRyZW07XHJcbiAgICAgICAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xyXG4gICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1hbmFnZS1pbmNpZGVudHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnBob25lLW51bWJlcntcclxuICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICAgICAgICBzcGFue1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tYW5hZ2UtaW5jaWRlbnRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRpdGxlIHtcclxuICAgICAgICAgICAgbWFyZ2luLXRvcDogMXJlbTtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbiAgICAgICAgICAgIHdpZHRoOiBtYXgtY29udGVudDtcclxuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1ncmV5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLmNvbnRhaW5lciAuY29udGVudC1wYWdlIHtcbiAgbWFyZ2luLXRvcDogMTR2aDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxLjRyZW07XG4gIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1hbmFnZS1pbmNpZGVudHMpO1xufVxuLmNvbnRhaW5lciAuY29udGVudC1wYWdlIC5waG9uZS1udW1iZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLnBob25lLW51bWJlciBzcGFuIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tYW5hZ2UtaW5jaWRlbnRzKTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAudGl0bGUge1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbiAgd2lkdGg6IG1heC1jb250ZW50O1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHZhcigtLWNvbG9yLWdyZXkpO1xufSJdfQ== */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {AfricleanObservablesProvider} from '../../../providers/africlean-observables/africlean-observables.provider';\r\nimport {AfricleanModalProvider} from '../../../providers/africlean-modal/africlean-modal.provider';\r\nimport {AfricleanHttpIncidentProvider} from '../../../providers/africlean-http/africlean-http-incident.provider';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {AfricleanSessionProvider} from '../../../providers/africlean-session/africlean-session.provider';\r\nimport {UserRole} from '../../../providers/utils/commonEnum';\r\n\r\n@Component({\r\n    selector: 'app-incident',\r\n    templateUrl: './incident.page.html',\r\n    styleUrls: ['./incident.page.scss'],\r\n})\r\nexport class IncidentPage implements OnInit {\r\n    /**\r\n     * numéro des pages\r\n     */\r\n    public positions = [];\r\n\r\n    /**\r\n     * Position de la page courante\r\n     */\r\n    @Input() public currentPage = 1;\r\n\r\n    /**\r\n     * Subscribes temporaires\r\n     */\r\n    public incidentsTmp: any[];\r\n    public incidents: any[];\r\n\r\n    /**\r\n     * La limite pour récuperer les données\r\n     */\r\n    public limit = 14;\r\n\r\n    /**\r\n     * Données à ignorer\r\n     */\r\n    public skip = 0;\r\n\r\n    /**\r\n     * Le nombre de clients par pages\r\n     */\r\n    @Input() public nbrIncidentsPerPage = 7;\r\n\r\n    phoneNumber: string;\r\n    public role: number;\r\n\r\n    constructor(private observableProvider: AfricleanObservablesProvider,\r\n                private modal: AfricleanModalProvider,\r\n                private incidentProvider: AfricleanHttpIncidentProvider,\r\n                private session: AfricleanSessionProvider,\r\n                private route: ActivatedRoute) {\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.getIncidentsByFilter();\r\n        this.phoneNumber = '343 345 564';\r\n        this.observableProvider.loadIncident.subscribe(\r\n            (loadIncident) => {\r\n                if (loadIncident) {\r\n                    this.incidents = [];\r\n                    this.incidentsTmp = [];\r\n                    this.limit = 10;\r\n                    this.skip = 0;\r\n                    this.getIncidentsByFilter();\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n    sendPosition(position) {\r\n        this.currentPage = position;\r\n        if (position % 2 === 0 && !this.positions.includes(position)) {\r\n            this.positions.push(position);\r\n            this.skip = this.skip + this.limit;\r\n            this.getIncidentsByFilter();\r\n        }\r\n    }\r\n\r\n    private async getIncidentsByFilter() {\r\n        const  body = {\r\n          limit: this.limit,\r\n          skip: this.skip\r\n        };\r\n        let userId: number;\r\n        this.role = await this.session.getItem('role');\r\n        if (this.role === UserRole.CLIENT) {\r\n            userId = await this.session.getItem('userId');\r\n            const url = 'incident/user-incident/' + userId;\r\n            this.incidentProvider.save(url, body).subscribe(\r\n                (incidents) => {\r\n                    if (!this.incidents && !this.incidentsTmp) {\r\n                        this.incidents = [];\r\n                        this.incidentsTmp = [];\r\n                        this.positions = [];\r\n                    }\r\n                    this.incidents = this.incidents.concat(incidents.slice());\r\n                    this.incidentsTmp = this.incidentsTmp.concat(this.incidentsTmp.slice());\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Retourne tous les incidents liés à un user\r\n     */\r\n    public async getIncidents() {\r\n        let userId: number;\r\n        this.role = await this.session.getItem('role');\r\n        if (this.role === UserRole.CLIENT) {\r\n            userId = await this.session.getItem('userId');\r\n            const url = 'incident/user-incident/' + userId;\r\n            this.incidentProvider.getIncidentByIdUser(url).subscribe(\r\n                (incidents) => {\r\n                    if (!this.incidents && !this.incidentsTmp) {\r\n                        this.incidents = [];\r\n                        this.incidentsTmp = [];\r\n                        this.positions = [];\r\n                    }\r\n                    this.incidents = this.incidents.concat(incidents.slice());\r\n                    this.incidentsTmp = this.incidentsTmp.concat(this.incidentsTmp.slice());\r\n                }\r\n            );\r\n        } else {\r\n            const url = 'incident/';\r\n            this.incidentProvider.getAllIncidentsWithDescription(url).subscribe(\r\n                (incidents) => {\r\n                    if (!this.incidents && !this.incidentsTmp) {\r\n                        this.incidents = [];\r\n                        this.incidentsTmp = [];\r\n                        this.positions = [];\r\n                    }\r\n                    this.incidents = this.incidents.concat(incidents.slice());\r\n                    this.incidentsTmp = this.incidentsTmp.concat(this.incidentsTmp.slice());\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n}\r\n"],"sourceRoot":""}