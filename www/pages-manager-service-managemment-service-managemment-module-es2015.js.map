{"version":3,"sources":["./src/app/pages/manager/service-managemment/service-managemment.page.html","./src/app/pages/manager/service-managemment/service-managemment.module.ts","./src/app/pages/manager/service-managemment/service-managemment.page.scss","./src/app/pages/manager/service-managemment/service-managemment.page.ts"],"names":[],"mappings":"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","file":"pages-manager-service-managemment-service-managemment-module-es2015.js","sourcesContent":["module.exports = \"\\r\\n<ion-content class=\\\"container\\\">\\r\\n\\r\\n  <div  class=\\\"content-page\\\">\\r\\n\\r\\n    <div class=\\\"header\\\">\\r\\n      <span>{{ 'PAGES.SERVICES_MANAGEMENT.TITLE' | translate }}</span>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"toggle\\\">\\r\\n\\r\\n            <!-- interventions -->\\r\\n      <ion-item class=\\\"planning-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.SERVICE.TOGGLE.INTERVENTION' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleIntervention($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"planning\\\" *ngIf=\\\"interventionCheck\\\">\\r\\n        <app-africlean-intervention-management\\r\\n                [currentPage]=\\\"currentPage\\\"\\r\\n                (position)=\\\"sendPosition($event)\\\"\\r\\n                [showAddFormuler]=\\\"showAddFormuler\\\"\\r\\n                [clientsList]=\\\"clients\\\"\\r\\n                [nbrClientsPerPage]=\\\"nbrClientsPerPage\\\"\\r\\n                [currentPageClient]=\\\"currentPageClient\\\"\\r\\n                (showSelection)=\\\"getClientsList($event, 'init')\\\">\\r\\n        </app-africlean-intervention-management>\\r\\n      </div>\\r\\n\\r\\n      <!-- Planning pour les jours de passage -->\\r\\n      <ion-item class=\\\"planning-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.SERVICE.TOGGLE.PLANNING' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"togglePlanning($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"planning\\\" *ngIf=\\\"planningCheck\\\">\\r\\n        <app-africlean-calendar [action]=\\\"'planning'\\\"\\r\\n                                [clientsList]=\\\"clientsTmpPlanning\\\"\\r\\n                                [nbrClientsPerPage]=\\\"nbrClientsPerPagePlaning\\\"\\r\\n                                [currentPageClient]=\\\"currentPageClientPlanning\\\"\\r\\n                                (position)=\\\"sendPositionClientPlanning($event)\\\"\\r\\n                                (showClientSelection)=\\\"getClientsPlanningList()\\\">\\r\\n\\r\\n        </app-africlean-calendar>\\r\\n      </div>\\r\\n      <!-- Dashboard d'activité des utilisateurs -->\\r\\n      <ion-item class=\\\"planning-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.SERVICE.TOGGLE.USER_DASHBOARD' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleUser($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"planning\\\" *ngIf=\\\"planningCheck\\\">\\r\\n      </div>\\r\\n\\r\\n      <!-- Les avis des personnes -->\\r\\n      <ion-item class=\\\"comments-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.SERVICE.TOGGLE.COMMENTS' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleComments($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"comments\\\" *ngIf=\\\"commentsCheck\\\">\\r\\n        <africlean-comments></africlean-comments>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { ServiceManagemmentPage } from './service-managemment.page';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { ComponentsModule } from '../../../components/components.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ServiceManagemmentPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        FormsModule,\r\n        IonicModule,\r\n        ComponentsModule,\r\n        RouterModule.forChild(routes),\r\n        TranslateModule.forChild(),\r\n    ],\r\n  declarations: [ServiceManagemmentPage]\r\n})\r\nexport class ServiceManagemmentPageModule {}\r\n","module.exports = \".container .content-page {\\n  margin-top: 4vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  margin-bottom: 2rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-manage-passage);\\n}\\n.container .content-page .toggle .planning-toggle ion-label, .container .content-page .toggle .comments-toggle ion-label {\\n  color: var(--ion-color-manage-passage);\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbWFuYWdlci9zZXJ2aWNlLW1hbmFnZW1tZW50L0M6XFxVc2Vyc1xcdG1kaWFsbG9cXERvY3VtZW50c1xcRG9jdW1lbnRzIHBlcnNvXFxtYXVyaUNsZWFuLWZyb250XFxtYXVyaUNsZWFuLWZyb250L3NyY1xcYXBwXFxwYWdlc1xcbWFuYWdlclxcc2VydmljZS1tYW5hZ2VtbWVudFxcc2VydmljZS1tYW5hZ2VtbWVudC5wYWdlLnNjc3MiLCJzcmMvYXBwL3BhZ2VzL21hbmFnZXIvc2VydmljZS1tYW5hZ2VtbWVudC9zZXJ2aWNlLW1hbmFnZW1tZW50LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUNFLGVBQUE7QUNESjtBREdJO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLG9CQUFBO0VBQ0Esd0JBQUE7RUFDQSxtQ0FBQTtFQUNBLHNDQUFBO0FDRE47QURPUTtFQUNFLHNDQUFBO0VBQ0EsaUJBQUE7QUNMViIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL21hbmFnZXIvc2VydmljZS1tYW5hZ2VtbWVudC9zZXJ2aWNlLW1hbmFnZW1tZW50LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXJ7XHJcblxyXG4gIC5jb250ZW50LXBhZ2V7XHJcbiAgICBtYXJnaW4tdG9wOiA0dmg7XHJcblxyXG4gICAgLmhlYWRlcntcclxuICAgICAgZm9udC1zaXplOiAxLjRyZW07XHJcbiAgICAgIG1hcmdpbi1ib3R0b206IDJyZW07XHJcbiAgICAgIHBhZGRpbmctbGVmdDogMC41cmVtO1xyXG4gICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xyXG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1hbmFnZS1wYXNzYWdlKTtcclxuICAgIH1cclxuICAgIC50b2dnbGV7XHJcblxyXG4gICAgICAucGxhbm5pbmctdG9nZ2xlLCAuY29tbWVudHMtdG9nZ2xle1xyXG5cclxuICAgICAgICBpb24tbGFiZWx7XHJcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1hbmFnZS1wYXNzYWdlKTtcclxuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLnBsYW5uaW5ne1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIuY29udGFpbmVyIC5jb250ZW50LXBhZ2Uge1xuICBtYXJnaW4tdG9wOiA0dmg7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLmhlYWRlciB7XG4gIGZvbnQtc2l6ZTogMS40cmVtO1xuICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICBwYWRkaW5nLWxlZnQ6IDAuNXJlbTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xuICBib3JkZXItY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmV5KTtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1tYW5hZ2UtcGFzc2FnZSk7XG59XG4uY29udGFpbmVyIC5jb250ZW50LXBhZ2UgLnRvZ2dsZSAucGxhbm5pbmctdG9nZ2xlIGlvbi1sYWJlbCwgLmNvbnRhaW5lciAuY29udGVudC1wYWdlIC50b2dnbGUgLmNvbW1lbnRzLXRvZ2dsZSBpb24tbGFiZWwge1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLW1hbmFnZS1wYXNzYWdlKTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59Il19 */\"","import {Component, Input, OnInit} from '@angular/core';\r\nimport {ActionSheetController, ModalController, NavController} from '@ionic/angular';\r\nimport {AfricleanHttpInterventionProvider} from '../../../../providers/africlean-http/africlean-http-intervention.provider';\r\nimport {AfricleanObservablesProvider} from '../../../../providers/africlean-observables/africlean-observables.provider';\r\nimport {AfricleanHttpUserProvider} from '../../../../providers/africlean-http/africlean-http-user.provider';\r\nimport {ClientType, InterventionType} from '../../../../providers/utils/commonEnum';\r\nimport {AfricleanSessionProvider} from \"../../../../providers/africlean-session/africlean-session.provider\";\r\n\r\n@Component({\r\n    selector: 'app-service-managemment',\r\n    templateUrl: './service-managemment.page.html',\r\n    styleUrls: ['./service-managemment.page.scss'],\r\n})\r\nexport class ServiceManagemmentPage implements OnInit {\r\n\r\n    public planning: string;\r\n\r\n    public comments: string;\r\n\r\n    public planningCheck = false;\r\n\r\n    public interventionCheck = false;\r\n\r\n\r\n    public commentsCheck = false;\r\n\r\n    private userDashboed = false;\r\n\r\n    calendar = {\r\n        mode: 'month',\r\n        currentDate: new Date(),\r\n    };\r\n\r\n\r\n    /**\r\n     * numéro des pages\r\n     */\r\n    public positions = [];\r\n    /**\r\n     * numéro des pages\r\n     */\r\n    public positionsClients = [];\r\n\r\n    /**\r\n     * Position de la page courante\r\n     */\r\n    @Input() public currentPage = 1;\r\n\r\n    /**\r\n     * Subscribes temporaires\r\n     */\r\n    public interventionsTmp: any[];\r\n    public interventions: any[];\r\n\r\n    /**\r\n     * La limite pour récuperer les données\r\n     */\r\n    public limit = 10;\r\n\r\n    /**\r\n     * Données à ignorer\r\n     */\r\n    public skip = 0;\r\n\r\n    /**\r\n     * Le nombre de clients par pages\r\n     */\r\n    @Input() public nbrInterventionsPerPage = 5;\r\n\r\n    public showAddFormuler = false;\r\n\r\n    /**\r\n     * Liste des clients\r\n     */\r\n    public clients: any[] = [];\r\n\r\n\r\n    public positionsClientPlanning = [];\r\n\r\n    /**\r\n     * Position de la page courante\r\n     */\r\n    public currentPageClient = 1;\r\n\r\n    /**\r\n     * Annonces temporaires\r\n     */\r\n    public clientsTmp: any[] = [];\r\n\r\n    /**\r\n     * La limite pour récuperer les données\r\n     */\r\n    public limitClient = 14;\r\n\r\n    /**\r\n     * Données à ignorer\r\n     */\r\n    public skipClient = 0;\r\n\r\n    /**\r\n     * Le nombre d'annonces par pages\r\n     */\r\n    public nbrClientsPerPage = 7;\r\n\r\n\r\n    /**\r\n     * Liste des clients\r\n     */\r\n    public clientsPlanning: any[] = [];\r\n\r\n    /**\r\n     * Position de la page courante\r\n     */\r\n    public currentPageClientPlanning = 1;\r\n\r\n    /**\r\n     * Annonces temporaires\r\n     */\r\n    public clientsTmpPlanning: any[] = [];\r\n\r\n    /**\r\n     * La limite pour récuperer les données\r\n     */\r\n    public limitClientPlanning = 14;\r\n\r\n    /**\r\n     * Données à ignorer\r\n     */\r\n    public skipClientPlanning = 0;\r\n\r\n    /**\r\n     * Le nombre d'annonces par pages\r\n     */\r\n    public nbrClientsPerPagePlaning = 7;\r\n\r\n\r\n    public customerType = 2;\r\n\r\n\r\n    constructor(private interventionProvider: AfricleanHttpInterventionProvider,\r\n                private navCtrl: NavController,\r\n                private actionSheetCtrl: ActionSheetController,\r\n                private modalCtrl: ModalController,\r\n                private session: AfricleanSessionProvider,\r\n                private userProvider: AfricleanHttpUserProvider,\r\n                private observableProvider: AfricleanObservablesProvider) {\r\n\r\n        // this.markDisabled(new Date());\r\n    }\r\n\r\n    ngOnInit() {\r\n      //  this.getInterventionsByFilter();\r\n        /*this.observableProvider.loadIntervention.subscribe(\r\n            (loadIncident) => {\r\n                if (loadIncident) {\r\n                    this.showAddFormuler = false;\r\n                    this.limit = 10;\r\n                    this.skip = 0;\r\n                    this.interventions = [];\r\n                    this.interventionsTmp = [];\r\n                    this.positions = [];\r\n                    this.getInterventionsByFilter();\r\n                }\r\n            });*/\r\n    }\r\n\r\n    /**\r\n     * Switch vers le planning\r\n     * @param event evenement\r\n     */\r\n    public togglePlanning(event: any) {\r\n        this.planningCheck = event.detail.checked;\r\n    }\r\n\r\n    /**\r\n     * Switch vers les commentaires\r\n     * @param event événement\r\n     */\r\n    public toggleComments(event: any) {\r\n        this.commentsCheck = event.detail.checked;\r\n    }\r\n\r\n    public toggleIntervention(event: any) {\r\n        this.interventionCheck = event.detail.checked;\r\n    }\r\n\r\n    public toggleUser(event: any) {\r\n        this.userDashboed = event.detail.checked;\r\n\r\n    }\r\n\r\n\r\n    sendPosition(position) {\r\n        this.currentPage = position;\r\n        if (position % 2 === 0 && !this.positions.includes(position)) {\r\n            this.positions.push(position);\r\n            this.skip = this.skip + this.limit;\r\n            this.getInterventionsByFilter();\r\n        }\r\n    }\r\n\r\n\r\n    sendPositionClient(position) {\r\n        this.currentPageClient = position;\r\n        if (position % 2 === 0 && !this.positionsClients.includes(position)) {\r\n            this.positionsClients.push(position);\r\n            this.skipClient = this.skipClient + this.limitClient;\r\n            this.getClientsList(this.customerType, 'position');\r\n        }\r\n    }\r\n    sendPositionClientPlanning(position) {\r\n        this.currentPageClientPlanning = position;\r\n        if (position % 2 === 0 && !this.positionsClientPlanning.includes(position)) {\r\n            this.positionsClientPlanning.push(position);\r\n            this.skipClientPlanning = this.skipClientPlanning + this.limitClientPlanning;\r\n            this.getClientsPlanningList();\r\n        }\r\n    }\r\n\r\n    private getInterventionsByFilter() {\r\n        let body: any = {};\r\n        body = {\r\n            limit: this.limit,\r\n            skip: this.skip\r\n        };\r\n        const url = 'intervention/interventions';\r\n        this.interventionProvider.save(url, body).subscribe(\r\n            (interventions) => {\r\n                if (!this.interventions && !this.interventionsTmp) {\r\n                    this.interventions = [];\r\n                    this.interventionsTmp = [];\r\n                    this.positions = [];\r\n                }\r\n                this.interventions = this.interventions.concat(interventions.slice());\r\n                this.interventionsTmp = this.interventionsTmp.concat(interventions.slice());\r\n            }\r\n        );\r\n    }\r\n\r\n\r\n\r\n    private async getClientsByFilter() {\r\n        const user = await this.session.getItem('user');\r\n        const entity =  (user) ? user.entity : null;\r\n        const id = (entity) ? entity.id : null;\r\n        let body: any = {};\r\n        body = {\r\n            limit: this.limitClient,\r\n            skip: this.skipClient,\r\n            customerType: this.customerType,\r\n            entity: id\r\n        };\r\n        this.userProvider.save('client/clients', body).subscribe(\r\n            (clients) => {\r\n                if (!this.clients && !this.clientsTmp) {\r\n                    this.clients = [];\r\n                    this.clientsTmp = [];\r\n                    this.positionsClients = [];\r\n                }\r\n                this.clients = this.clients.concat(clients.slice());\r\n                this.clientsTmp = this.clientsTmp.concat(clients.slice());\r\n                console.log(this.clients);\r\n\r\n            }\r\n        );\r\n    }\r\n\r\n    getClientsList(event, action) {\r\n        this.clients = (action === 'init') ? [] : this.clients;\r\n        const type = parseInt(event);\r\n        if (type === InterventionType.PRO) {\r\n            this.customerType = InterventionType.PRO;\r\n            console.log(event);\r\n        } else {\r\n            this.customerType = 1;\r\n        }\r\n        this.getClientsByFilter();\r\n    }\r\n\r\n\r\n\r\n\r\n    private async getClientsPlanningByFilter() {\r\n        const user = await this.session.getItem('user');\r\n        const entity =  (user) ? user.entity : null;\r\n        const id = (entity) ? entity.id : null;\r\n        let body: any = {};\r\n        body = {\r\n            limit: this.limitClientPlanning,\r\n            skip: this.skipClientPlanning,\r\n            customerType: this.customerType,\r\n            entity: id\r\n        };\r\n\r\n        this.userProvider.save('client/clients', body).subscribe(\r\n            (clients) => {\r\n                if (!this.clientsPlanning && !this.clientsTmpPlanning) {\r\n                    this.clientsPlanning = [];\r\n                    this.clientsTmpPlanning = [];\r\n                    this.positionsClientPlanning = [];\r\n                }\r\n               /* this.clientsPlanning = this.clientsPlanning.concat(clients.slice());\r\n                this.clientsTmpPlanning = this.clientsTmpPlanning.concat(clients.slice());*/\r\n            }\r\n        );\r\n    }\r\n\r\n    getClientsPlanningList() {\r\n        this.getClientsPlanningByFilter();\r\n    }\r\n}\r\n"],"sourceRoot":""}