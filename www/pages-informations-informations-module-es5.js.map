{"version":3,"sources":["./src/app/pages/informations/informations.page.html","./src/app/pages/informations/informations.module.ts","./src/app/pages/informations/informations.page.scss","./src/app/pages/informations/informations.page.ts"],"names":[],"mappings":"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","file":"pages-informations-informations-module-es5.js","sourcesContent":["module.exports = \"<ion-content class=\\\"container\\\">\\r\\n\\r\\n  <div  class=\\\"content-page\\\">\\r\\n\\r\\n    <div class=\\\"header\\\">\\r\\n      {{ 'PAGES.INFORMATIONS.TITLE' | translate }}\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"toggle\\\">\\r\\n\\r\\n      <!-- Informations personnelles -->\\r\\n      <ion-item class=\\\"informations-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.INFOS' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleInformations($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"informations\\\" *ngIf=\\\"informationsCheck\\\">\\r\\n        <africlean-informations></africlean-informations>\\r\\n      </div>\\r\\n\\r\\n      <!-- Adresses -->\\r\\n      <ion-item class=\\\"adress-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.ADRESS.TITLE' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"toggleAdress($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n\\r\\n      <div class=\\\"adress\\\" *ngIf=\\\"adressCheck\\\">\\r\\n          <!-- Ajouter une nouvel adresse -->\\r\\n          <div class=\\\"adress-add\\\" (click)=\\\"addAdress()\\\">\\r\\n            {{ 'PAGES.INFORMATIONS.TOGGLE.ADRESS.NEW_ADRESS' | translate }}\\r\\n          </div>\\r\\n          <div class=\\\"adresses-list\\\" *ngIf=\\\"adresses\\\">\\r\\n              <africlean-adress-display *ngFor=\\\"let adresse of adresses; let rank = index\\\"\\r\\n                                        [adress]=\\\"adresse\\\" [theme]=\\\"'informations'\\\" \\r\\n                                        [displayCheckbox]=\\\"false\\\" [rank]=\\\"rank\\\"\\r\\n                                        [displayButton]=\\\"true\\\" (emitHomeCode)=\\\"actualizeAdress($event)\\\">\\r\\n              </africlean-adress-display>\\r\\n          </div>\\r\\n      </div>\\r\\n\\r\\n      <!-- Mot de passe -->\\r\\n      <ion-item class=\\\"password-toggle\\\">\\r\\n        <ion-label>{{ 'PAGES.INFORMATIONS.TOGGLE.PASSWORD' | translate }}</ion-label>\\r\\n        <ion-toggle color=\\\"medium\\\" (ionChange)=\\\"togglePassword($event)\\\">\\r\\n        </ion-toggle>\\r\\n      </ion-item>\\r\\n      \\r\\n      <div class=\\\"password\\\" *ngIf=\\\"pwdCheck\\\">\\r\\n        <africlean-password></africlean-password>\\r\\n      </div>\\r\\n\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InformationsPage } from './informations.page';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ComponentsModule } from 'src/app/components/components.module';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InformationsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ComponentsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild()\r\n  ],\r\n  declarations: [InformationsPage]\r\n})\r\nexport class InformationsPageModule {}\r\n","module.exports = \".container .content-page {\\n  margin-top: 15vh;\\n}\\n.container .content-page .header {\\n  font-size: 1.4rem;\\n  margin-bottom: 2rem;\\n  padding-left: 0.5rem;\\n  border-bottom: 1px solid;\\n  border-color: var(--ion-color-grey);\\n  color: var(--ion-color-consult-informations);\\n}\\n.container .content-page .toggle ion-label {\\n  color: var(--ion-color-consult-informations);\\n  font-weight: bold;\\n}\\n.container .content-page .toggle .adress-add {\\n  color: var(--ion-color-consult-informations);\\n  text-decoration: underline;\\n  cursor: pointer;\\n  font-size: 0.9rem;\\n  margin-left: 5vw;\\n  margin-top: 1rem;\\n  margin-bottom: 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW5mb3JtYXRpb25zL0M6XFxVc2Vyc1xcdG1kaWFsbG9cXERvY3VtZW50c1xcRG9jdW1lbnRzIHBlcnNvXFxtYXVyaUNsZWFuLWZyb250XFxtYXVyaUNsZWFuLWZyb250L3NyY1xcYXBwXFxwYWdlc1xcaW5mb3JtYXRpb25zXFxpbmZvcm1hdGlvbnMucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9pbmZvcm1hdGlvbnMvaW5mb3JtYXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFSTtFQUNJLGdCQUFBO0FDRFI7QURHUTtFQUNJLGlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLHdCQUFBO0VBQ0EsbUNBQUE7RUFDQSw0Q0FBQTtBQ0RaO0FETVk7RUFDSSw0Q0FBQTtFQUNBLGlCQUFBO0FDSmhCO0FET1k7RUFDSSw0Q0FBQTtFQUNBLDBCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDTGhCIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaW5mb3JtYXRpb25zL2luZm9ybWF0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVye1xyXG5cclxuICAgIC5jb250ZW50LXBhZ2V7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMTV2aDtcclxuICAgICAgICBcclxuICAgICAgICAuaGVhZGVye1xyXG4gICAgICAgICAgICBmb250LXNpemU6IDEuNHJlbTtcclxuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxuICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjVyZW07XHJcbiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcclxuICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItZ3JleSk7XHJcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLnRvZ2dsZXtcclxuXHJcbiAgICAgICAgICAgIGlvbi1sYWJlbHtcclxuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC5hZHJlc3MtYWRke1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1jb25zdWx0LWluZm9ybWF0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDV2dztcclxuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLmNvbnRhaW5lciAuY29udGVudC1wYWdlIHtcbiAgbWFyZ2luLXRvcDogMTV2aDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxLjRyZW07XG4gIG1hcmdpbi1ib3R0b206IDJyZW07XG4gIHBhZGRpbmctbGVmdDogMC41cmVtO1xuICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLWdyZXkpO1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWNvbnN1bHQtaW5mb3JtYXRpb25zKTtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAudG9nZ2xlIGlvbi1sYWJlbCB7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItY29uc3VsdC1pbmZvcm1hdGlvbnMpO1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5jb250YWluZXIgLmNvbnRlbnQtcGFnZSAudG9nZ2xlIC5hZHJlc3MtYWRkIHtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1jb25zdWx0LWluZm9ybWF0aW9ucyk7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBtYXJnaW4tbGVmdDogNXZ3O1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBtYXJnaW4tYm90dG9tOiAxcmVtO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { AfricleanModalProvider } from 'src/providers/africlean-modal/africlean-modal.provider';\r\nimport { AfricleanAdressComponent } from 'src/app/components/africlean-adress/africlean-adress.component';\r\nimport { AfricleanHttpUserProvider } from 'src/providers/africlean-http/africlean-http-user.provider';\r\nimport { AfricleanSessionProvider } from 'src/providers/africlean-session/africlean-session.provider';\r\nimport { AfricleanObservablesProvider } from 'src/providers/africlean-observables/africlean-observables.provider';\r\n\r\n@Component({\r\n  selector: 'app-informations',\r\n  templateUrl: './informations.page.html',\r\n  styleUrls: ['./informations.page.scss'],\r\n})\r\nexport class InformationsPage implements OnInit {\r\n\r\n  /**\r\n   * Contrôle l'accès aux informations\r\n   */\r\n  public informationsCheck = false;\r\n\r\n  /**\r\n   * Contrôle l'accès au mot de passe\r\n   */\r\n  public pwdCheck = false;\r\n\r\n  /**\r\n   * Contrôle l'accès aux adresses\r\n   */\r\n  public adressCheck = false;\r\n\r\n  /**\r\n   * Liste des adresses de l'utilisateurs\r\n   */\r\n  public adresses: any[];\r\n\r\n  constructor(private modal: AfricleanModalProvider,\r\n              private userProvider: AfricleanHttpUserProvider,\r\n              private session: AfricleanSessionProvider,\r\n              private observableProvider: AfricleanObservablesProvider) { }\r\n\r\n  ngOnInit() {\r\n    this.getAdresses();\r\n    // Dés qu'il y'a un chamgement au nivea des adresses notament une mise a jour,\r\n    // on récharge les données.\r\n    this.observableProvider.loadAdresses.subscribe(\r\n      (load) => {\r\n          if (load) {\r\n            this.getAdresses();\r\n          }\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Switch vers les informations\r\n   * @param event evenement\r\n   */\r\n  public toggleInformations(event: any) {\r\n    this.informationsCheck = event.detail.checked;\r\n  }\r\n\r\n  /**\r\n   * Switch vers le mot de passe\r\n   * @param event événement\r\n   */\r\n  public togglePassword(event: any) {\r\n    this.pwdCheck = event.detail.checked;\r\n  }\r\n\r\n  /**\r\n   * Switch vers l'adresse\r\n   * @param event événement\r\n   */\r\n  public toggleAdress(event: any) {\r\n    this.adressCheck = event.detail.checked;\r\n  }\r\n\r\n  /**\r\n   * Ajoute une nouvelle adresse\r\n   */\r\n  public async addAdress() {\r\n    const props = {\r\n      displayButton: true\r\n    };\r\n    await this.modal.create(AfricleanAdressComponent, 'my-custom-modal-css', props);\r\n    const data = await this.modal.getData();\r\n    // tslint:disable-next-line: no-unused-expression\r\n    !this.adresses ? this.adresses = [] : '';\r\n    // tslint:disable-next-line: no-unused-expression\r\n    data ? this.adresses.push(data) : '';\r\n  }\r\n\r\n  /**\r\n   * Actualise la liste des adresses\r\n   * @param event evenement émis\r\n   */\r\n  public actualizeAdress(homeCode: any) {\r\n      const adressesTMP = [];\r\n      this.adresses.forEach(adress => {\r\n        if (adress.idHome !== homeCode) {\r\n          adressesTMP.push(adress);\r\n        }\r\n      });\r\n      this.adresses = adressesTMP;\r\n  }\r\n\r\n  /**\r\n   * Renvoie toutes les adresses\r\n   */\r\n  public async getAdresses() {\r\n      const userId = await this.session.getItem('userId');\r\n      const userRole = await this.session.getItem('role');\r\n      const url = 'user/adress/' + userId;\r\n      const body = {\r\n        role: userRole\r\n      };\r\n      this.userProvider.getAdress(url, body).subscribe(\r\n        (adresses) => {\r\n            this.adresses = adresses;\r\n        }\r\n      );\r\n  }\r\n}\r\n"],"sourceRoot":""}